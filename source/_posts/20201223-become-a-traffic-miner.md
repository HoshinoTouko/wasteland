---
title: 成为一名流量矿工
date: 2020-12-23 19:29:05
categories:
- [Network]
- [DIY]
- [Mining]
tags:
- DIY
- Mining
---

> 简短地水一篇

# 闲置了一块主板

前段时间给实验室配置了软路由，为了避免意外，多买了一块主板。最近，在实验室成功部署了异地组网后，才想起来自己多买了一台机器。这台机器的配置是 1037u，我之前买过三块，分别用于各种地方的软路由和小型机。这块u价格便宜，没有 J1900 那样的溢价，性能和 J1900 差不多，功耗不高，非常适合用来做 NAS 和软路由。对于手上这块 1037u，我准备拿来挖矿。

## 硬件

这次的硬件没有什么好介绍的，主要如下

|            |                |
|:----------:|:--------------:|
| 主板 / CPU | 1037u 集成主板 |
|    内存    |  杂牌 DDR3 2G  |
|    电源    |     12V DC     |
|  系统硬盘  |    minisata    |
|  数据硬盘  |  WD 500G 黑盘  |

给主板来一张全貌图

<!--more-->

{% asset_img 1.motherboard-overview.jpg 主板全貌 %}

## 解决硬盘供电问题

由于使用的是 DC 12V 供电的工控机主板，没有使用任何直插的电源板，为硬盘供电成了问题。经过仔细观察，我发现主板上存在一个 SATA_PWR 的接口，理论上可以用于硬盘的供电。

{% asset_img 2.SATA_PWR.jpg SATA_PWR 接口 %}

我从万能的淘宝购入了一条转接线用于硬盘供电的转接。众所周知，硬盘主要由 5V 和 12V 供电。大多数 2.5 寸 HDD 硬盘和 SSD 硬盘只需要 5V 供电，3.5 寸 HDD 大多需要 12V 供电。这个接口提供了这两种电压，并且同时存在两种接口规格，需要测量最左侧和最右侧的两个针脚对应的电压，否则会烧坏硬盘。

{% asset_img 3.SATA_PWR-pin-definition.jpg 测量针脚 %}

测得电压后，由于我这块主板的电压定义和店家给的线正好相反，需要将针脚中的线扯出，归位

{% asset_img 4.modify-adapter-pins.jpg 替换电压线 %}

一定要进行上述步骤检查，否则就会像我第一次一样，烧坏了一块蓝盘（大短路，磁头烧毁）

## 挖矿程序选择

我选择的是星际比特 PolarOS 所属的银河计划，原理大概是运行某些互联网厂商（如 271）的边缘 CDN 项目，共享上传带宽。安装方式很简单，从官网下载 img 镜像，用烧录工具烧录至 U 盘。我用的是老朋友 `balenaEtcher`。烧录完成后，通过 u 盘启动机器，选择安装到系统硬盘上。运行这个挖矿程序一定要两块以上的硬盘，其中一块用来安装系统，另一块用于存储分发的数据。

系统安装完成后，等待重启。控制台中会出现一个二维码，从微信小程序`IPFS星际比特`或者安卓官方 app 扫码绑定设备，并运行 `银河计划`。我选择银河计划的原因是因为他是现金结算项目，且每次提现仅收取 2 元手续费。

经过三四天的运行，单台机器的收益大约是 1.5 / 天（两台机器，30Mbps 上行）

## 提高挖矿效率的一些方案

由于刚开始挖矿，没有什么经验，仅根据个人猜测提供一些方案。首先一定要保持设备随时在线。前几天我调整路由器的时候进行了一次网络设备断电，直接导致了收益锐减。估计设备掉线惩罚很严重，不知道先手动停止再操作掉线会不会惩罚的少一些。其次是内存尽量保持 4G 以上，硬盘保持 500G 以上，以提供更好的挖矿能力。CPU 的选择比较随意，性能约等于 1037u，J1900 就行。建议一定要申请`公网 IP` ，打开光猫或者拨号设备上的 `uPnP`，减少外网到挖矿设备的 NAT 层数，最好直接挂在拨号设备下。
